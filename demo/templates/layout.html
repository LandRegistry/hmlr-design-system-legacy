{% from "app/vendor/.govuk-frontend/components/back-link/macro.html" import govukBackLink %}
{% from "app/vendor/.govuk-frontend/components/skip-link/macro.html" import govukSkipLink %}
{% from "app/macros/nav.html" import nav with context %}
{% from "components/header-internal/macro.html" import headerInternal %}
{% from "components/footer/macro.html" import footer %}

{% extends "app/vendor/.govuk-frontend/template.html" %}

{% set assetPath = url_for('static', filename='.govuk-frontend').rstrip('/') %}
{% set bodyClasses = "hmlr-theme" %}
{% block head %}
  <!--[if gt IE 8]><!--><link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/main.css') }}" /><!--<![endif]-->
  <!--[if IE 8]><link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/main-ie8.css') }}" /><![endif]-->
{% endblock %}

{% block pageTitle %}{% block title %}{% endblock %}{% if self.title() %} - {% endif %}{{ service_name }}{% endblock %}

{% block beforeContent %}

{% endblock%}

{% block bodyStart %}
  <div class="app-cookie-banner js-cookie-banner">
    <p class="app-cookie-banner__message">HM Land Registry uses cookies to make the site simpler. <a href="https://www.gov.uk/help/cookies" class="govuk-link">Find out more about cookies</a></p>
  </div>
{% endblock %}

{% block skipLink %}
  {{ govukSkipLink({
    'href': "#main-content",
    'text': "Skip to main content"
  }) }}
{% endblock %}

{% block header %}
  {{ headerInternal({
    'headerTitle': 'HMLR Design System',
    'homepageUrl': '/'
  }) }}
{% endblock %}

{% block content %}
  {% if self.left_column() %}
    <div class="hmlr-column--left">
      {% block left_column %}
        {{ nav() }}
      {% endblock %}
    </div>
  {% endif %}

  <div class="hmlr-column--main">
    {% block back_link%}
      {% if backurl %}
        <div class="govuk-grid-row">
          <div class="govuk-grid-column-full">
          {{ govukBackLink({
            "text": "Back",
              "href": backurl
            }) }}
          </div>
        </div>
      {% endif %}
      {% block inner_content %}{% endblock %}
    {% endblock %}
    </div>

    {% if self.right_column() %}
      <div class="hmlr-column--right">
        {% block right_column %}{% endblock %}
      </div>
    {% endif %}
{% endblock %}

{% block footer %}
  {{ footer({
    'meta': {
      'items': [
        {
          'href': 'https://github.com/LandRegistry/hmlr-design-system',
          'text': 'HMLR design system on Github'
        }
      ]
    }
  }) }}
{% endblock %}

{% block bodyEnd %}
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
  <script src="{{ url_for('static', filename='js/react-components.js') }}"></script>
{% endblock %}
